<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProQuiz Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto:wght@400;500;700&family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            color: #e2e8f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        body.lang-hi {
            font-family: 'Roboto', sans-serif;
        }

        .quiz-container {
            background-color: rgba(45, 55, 72, 0.85);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255,255,255,0.05) inset;
            width: 95%;
            max-width: 700px;
            text-align: center;
            border: 1px solid rgba(74, 85, 104, 0.5);
            position: relative;
            overflow: hidden;
        }

        @media (min-width: 640px) {
            .quiz-container {
                padding: 30px;
            }
        }

        .screen {
            display: none;
            animation: fadeIn 0.7s ease-out forwards;
        }

        .screen.active {
            display: block;
        }

        .screen.exiting {
            animation: fadeOut 0.5s ease-in forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        @media (min-width: 640px) {
            .grid-container {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Adjusted minmax */
                gap: 12px; /* Adjusted gap */
            }
        }

        .action-button {
            background-color: #4a5568;
            color: #e2e8f0;
            border: none;
            padding: 10px 12px; /* Adjusted padding */
            border-radius: 8px;
            font-size: 0.8rem; /* Adjusted font size */
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            font-weight: 600;
        }

        @media (min-width: 640px) {
             .action-button {
                padding: 12px 18px; /* Adjusted padding */
                font-size: 0.9rem; /* Adjusted font size */
             }
        }

        .action-button:hover {
            background-color: #718096;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .action-button.all-sections, .action-button.language-select {
            background-color: #4c51bf;
        }
        .action-button.all-sections:hover, .action-button.language-select:hover {
            background-color: #434190;
        }
        .action-button.all-sections {
             grid-column: 1 / -1;
        }

        .question-text {
            font-size: 1.1rem;  /* Adjusted */
            margin-bottom: 20px;
            min-height: 60px;
            color: #cbd5e0;
            font-weight: 600;
        }
        @media (min-width: 640px) {
            .question-text {
                font-size: 1.3rem; /* Adjusted */
            }
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        @media (min-width: 640px) {
            .options-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .action-button.option {
            background-color: #2d3748;
            border: 1px solid #4a5568;
        }
        .action-button.option:hover {
            background-color: #4a5568;
        }

        .timer-container {
            margin-bottom: 20px;
            height: 30px;
            position: relative;
        }

        .timer-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: #63b3ed;
            font-weight: 700;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .timer-bar-background {
            width: 100%;
            height: 10px;
            background-color: #4a5568;
            border-radius: 5px;
            position: absolute;
            bottom: 0;
            left:0;
        }

        .timer-bar {
            height: 100%;
            background-color: #63b3ed;
            border-radius: 5px;
            width: 100%;
            transition: width 0.2s linear, background-color 0.5s ease;
        }

        .score-display {
            font-size: 1.25rem;
            margin: 15px 0; /* Adjusted margin */
            color: #a0aec0;
        }
        @media (min-width: 640px) {
            .score-display {
                font-size: 1.4rem; /* Adjusted */
            }
        }

        .results-summary {
            font-size: 1.1rem; /* Adjusted */
            margin-bottom: 15px; /* Adjusted margin */
            line-height: 1.6;
        }
        .results-summary span {
            font-weight: bold;
        }
        .results-summary .correct { color: #48bb78; }
        .results-summary .wrong { color: #f56565; }

        .control-buttons-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px; /* Adjusted margin */
            justify-content: center;
        }

        @media (min-width: 640px) {
            .control-buttons-container {
                flex-direction: row;
                gap: 12px; /* Adjusted gap */
            }
        }

        .action-button.next-level { background-color: #38a169; }
        .action-button.next-level:hover { background-color: #2f855a; }
        .action-button.retry { background-color: #dd6b20; }
        .action-button.retry:hover { background-color: #c05621; }
        .action-button.show-answers, .action-button.home, .action-button.change-lang, .action-button.try-diff-cat { background-color: #718096; }
        .action-button.show-answers:hover, .action-button.home:hover, .action-button.change-lang:hover, .action-button.try-diff-cat:hover { background-color: #4a5568; }

        .answers-reveal-container {
            margin-top: 15px; /* Adjusted margin */
            text-align: left;
            max-height: 180px; /* Adjusted max-height */
            overflow-y: auto;
            padding: 10px;
            background-color: rgba(0,0,0,0.2);
            border-radius: 8px;
        }
        .answers-reveal-container p {
            margin-bottom: 8px;
            font-size: 0.875rem;
        }
        .answers-reveal-container strong {
            color: #63b3ed;
        }

        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
            color: #90cdf4;
            margin-bottom: 10px;
        }
        h1 { font-size: 1.6rem; }  /* Adjusted */
        h2 { font-size: 1.2rem; }  /* Adjusted */
        h3 { font-size: 1rem; margin-top: 12px; } /* Adjusted */
        @media (min-width: 640px) {
            h1 { font-size: 2rem; } /* Adjusted */
            h2 { font-size: 1.4rem; } /* Adjusted */
        }

        .action-button.option {
            opacity: 0;
            transform: translateY(10px);
            animation: optionFadeIn 0.5s ease-out forwards;
        }
        .options-container .action-button.option:nth-child(1) { animation-delay: 0.1s; }
        .options-container .action-button.option:nth-child(2) { animation-delay: 0.2s; }
        .options-container .action-button.option:nth-child(3) { animation-delay: 0.3s; }
        .options-container .action-button.option:nth-child(4) { animation-delay: 0.4s; }
        .options-container .action-button.option:nth-child(5) { animation-delay: 0.5s; } /* For 5th option if any */

        @keyframes optionFadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        .timer-text.low-time {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div id="language-screen" class="screen active">
            <h1 id="lang-select-title">Select Language / भाषा चुनें</h1>
            <div class="grid-container mt-6">
                <button id="lang-en" class="action-button language-select">English</button>
                <button id="lang-hi" class="action-button language-select">हिन्दी (Hindi)</button>
            </div>
        </div>

        <div id="start-screen" class="screen">
            <h1 id="start-title">ProQuiz Challenge</h1>
            <p id="start-subtitle" class="mb-6 text-slate-400">Test your knowledge across various domains!</p>
            <h2 id="category-select-title">Select a Category:</h2>
            <div id="category-selection" class="grid-container">
                </div>
            <button id="all-sections-button" class="action-button all-sections mt-4"></button>
            <button id="change-language-button" class="action-button change-lang mt-4"></button>
        </div>

        <div id="quiz-screen" class="screen">
            <div id="quiz-header" class="flex justify-between items-center mb-4">
                <p id="current-level-topic" class="text-lg font-semibold text-sky-400"></p>
                <p id="question-counter" class="text-sm text-slate-400"></p>
            </div>
            <div class="timer-container">
                <div class="timer-bar-background">
                    <div id="timer-bar" class="timer-bar"></div>
                </div>
                <div id="timer-text" class="timer-text">25</div>
            </div>
            <p id="question-text" class="question-text">
                </p>
            <div id="options-container" class="options-container">
                </div>
            <div class="control-buttons-container">
                <button id="quit-quiz-button" class="action-button retry">Quit Quiz</button>
            </div>
        </div>

        <div id="results-screen" class="screen">
            <h2 id="results-title" class="mb-4">Quiz Results</h2>
            <p id="score-display" class="score-display">Your Score: <span>0</span>/<span>0</span></p>
            <p id="level-completion-status" class="results-summary"></p>
            <p id="topic-level-display" class="text-md text-slate-300 mb-4"></p>
            <div id="answers-reveal-container" class="answers-reveal-container">
                </div>
            <div class="control-buttons-container">
                <button id="next-level-button" class="action-button next-level">Next Level</button>
                <button id="retry-level-button" class="action-button retry">Retry Level</button>
                <button id="show-answers-button" class="action-button show-answers">Show Answers</button>
                <button id="try-diff-cat-button" class="action-button try-diff-cat">Try Different Category</button>
                <button id="home-button" class="action-button home">Home</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const languageScreen = document.getElementById('language-screen');
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');

        const langEnButton = document.getElementById('lang-en');
        const langHiButton = document.getElementById('lang-hi');
        const langSelectTitle = document.getElementById('lang-select-title');

        const startTitle = document.getElementById('start-title');
        const startSubtitle = document.getElementById('start-subtitle');
        const categorySelectTitle = document.getElementById('category-select-title');
        const categorySelection = document.getElementById('category-selection');
        const allSectionsButton = document.getElementById('all-sections-button');
        const changeLanguageButton = document.getElementById('change-language-button');

        const currentLevelTopic = document.getElementById('current-level-topic');
        const questionCounter = document.getElementById('question-counter');
        const timerText = document.getElementById('timer-text');
        const timerBar = document.getElementById('timer-bar');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const quitQuizButton = document.getElementById('quit-quiz-button');

        const resultsTitle = document.getElementById('results-title');
        const scoreDisplay = document.getElementById('score-display');
        const levelCompletionStatus = document.getElementById('level-completion-status');
        const topicLevelDisplay = document.getElementById('topic-level-display');
        const answersRevealContainer = document.getElementById('answers-reveal-container');
        const nextLevelButton = document.getElementById('next-level-button');
        const retryLevelButton = document.getElementById('retry-level-button');
        const showAnswersButton = document.getElementById('show-answers-button');
        const tryDiffCatButton = document.getElementById('try-diff-cat-button');
        const homeButton = document.getElementById('home-button');

        // Quiz State Variables
        let currentLang = 'en'; // Default language
        let currentCategory = '';
        let currentLevel = 1; // Tracks current level within a category
        let currentQuestionIndex = 0; // Tracks question index within the current level's questions
        let score = 0;
        let correctAnswersCount = 0;
        let incorrectAnswersCount = 0;
        let timerId;
        const TIME_PER_QUESTION = 25; // seconds
        let timeLeft = TIME_PER_QUESTION;
        let selectedQuestions = {}; // Will hold either externalQuestions or hindiQuestions
        let currentLevelQuestions = []; // Questions for the current category and level
        let askedQuestionGlobalIds = new Set(); // To keep track of asked questions for "All Sections"

        // Global variable to store questions from JSON
        let externalQuestions = {}; // Will be loaded from questions.json

        // Hindi Questions (Original content, will be preserved)
        // Note: These questions are hardcoded with direct 'question' and 'answer' strings.
        // The externalQuestions (from JSON) are also expected to have direct strings now.
        const hindiQuestions = {
            "विज्ञान": [
                {
                    "level": 1,
                    "questions": [
                        {
                            "id": "hi_sci_1_1",
                            "question": "पानी का रासायनिक सूत्र क्या है?",
                            "options": ["CO2", "H2O", "O2", "NaCl"],
                            "answer": "H2O"
                        },
                        {
                            "id": "hi_sci_1_2",
                            "question": "पेड़-पौधे किस प्रक्रिया से अपना भोजन बनाते हैं?",
                            "options": ["श्वसन", "प्रकाश संश्लेषण", "वाष्पोत्सर्जन", "किण्वन"],
                            "answer": "प्रकाश संश्लेषण"
                        },
                        {
                            "id": "hi_sci_1_3",
                            "question": "मानव शरीर में कुल कितनी हड्डियाँ होती हैं?",
                            "options": ["206", "300", "150", "250"],
                            "answer": "206"
                        },
                        {
                            "id": "hi_sci_1_4",
                            "question": "बिजली का सबसे अच्छा सुचालक कौन सा है?",
                            "options": ["लकड़ी", "प्लास्टिक", "तांबा", "रबड़"],
                            "answer": "तांबा"
                        },
                        {
                            "id": "hi_sci_1_5",
                            "question": "सूर्य के प्रकाश में कितने रंग होते हैं?",
                            "options": ["5", "6", "7", "8"],
                            "answer": "7"
                        },
                        {
                            "id": "hi_sci_1_6",
                            "question": "कौन सा ग्रह 'सुबह का तारा' या 'शाम का तारा' कहलाता है?",
                            "options": ["मंगल", "शुक्र", "बृहस्पति", "शनि"],
                            "answer": "शुक्र"
                        },
                        {
                            "id": "hi_sci_1_7",
                            "question": "पौधों को हरा रंग किस वर्णक के कारण मिलता है?",
                            "options": ["कैरोटीन", "एंथोसायनिन", "क्लोरोफिल", "ज़ैंथोफिल"],
                            "answer": "क्लोरोफिल"
                        },
                        {
                            "id": "hi_sci_1_8",
                            "question": "ध्वनि की गति सबसे तेज किस माध्यम में होती है?",
                            "options": ["हवा", "पानी", "निर्वात", "लोहा"],
                            "answer": "लोहा"
                        },
                        {
                            "id": "hi_sci_1_9",
                            "question": "पेंसिलीन की खोज किसने की थी?",
                            "options": ["मैरी क्यूरी", "अलेक्जेंडर फ्लेमिंग", "लुई पाश्चर", "एडवर्ड जेनर"],
                            "answer": "अलेक्जेंडर फ्लेमिंग"
                        },
                        {
                            "id": "hi_sci_1_10",
                            "question": "पृथ्वी का सबसे भीतरी भाग क्या कहलाता है?",
                            "options": ["मेंटल", "क्रस्ट", "कोर", "प्रॉपर्टी"],
                            "answer": "कोर"
                        }
                    ]
                },
                {
                    "level": 2,
                    "questions": [
                        {
                            "id": "hi_sci_2_1",
                            "question": "किस विटामिन की कमी से रिकेट्स रोग होता है?",
                            "options": ["विटामिन A", "विटामिन C", "विटामिन D", "विटामिन B"],
                            "answer": "विटामिन D"
                        },
                        {
                            "id": "hi_sci_2_2",
                            "question": "हवा में ऑक्सीजन का प्रतिशत कितना है?",
                            "options": ["78%", "21%", "0.03%", "1%"],
                            "answer": "21%"
                        },
                        {
                            "id": "hi_sci_2_3",
                            "question": "कौन सा उपकरण रक्तचाप मापने के लिए उपयोग किया जाता है?",
                            "options": ["थर्मोमीटर", "स्टेथोस्कोप", "स्फिग्मोमैनोमीटर", "ओडोमीटर"],
                            "answer": "स्फिग्मोमैनोमीटर"
                        },
                        {
                            "id": "hi_sci_2_4",
                            "question": "सूर्य ग्रहण कब होता है?",
                            "options": ["जब पृथ्वी चंद्रमा और सूर्य के बीच आती है", "जब चंद्रमा पृथ्वी और सूर्य के बीच आता है", "जब सूर्य पृथ्वी और चंद्रमा के बीच आता है", "किसी भी समय"],
                            "answer": "जब चंद्रमा पृथ्वी और सूर्य के बीच आता है"
                        },
                        {
                            "id": "hi_sci_2_5",
                            "question": "कोशिका की खोज किसने की थी?",
                            "options": ["रॉबर्ट हुक", "ल्यूवेनहुक", "मेंडल", "डार्विन"],
                            "answer": "रॉबर्ट हुक"
                        },
                        {
                            "id": "hi_sci_2_6",
                            "question": "किस धातु को 'क्विकसिल्वर' के नाम से जाना जाता है?",
                            "options": ["सोना", "चांदी", "पारा", "एल्यूमीनियम"],
                            "answer": "पारा"
                        },
                        {
                            "id": "hi_sci_2_7",
                            "question": "दूरदृष्टि दोष को ठीक करने के लिए किस लेंस का उपयोग किया जाता है?",
                            "options": ["अवतल लेंस", "उत्तल लेंस", "बेलनाकार लेंस", "कोई नहीं"],
                            "answer": "उत्तल लेंस"
                        },
                        {
                            "id": "hi_sci_2_8",
                            "question": "किस ग्रह को 'नीला ग्रह' कहा जाता है?",
                            "options": ["मंगल", "पृथ्वी", "शुक्र", "वरुण"],
                            "answer": "पृथ्वी"
                        },
                        {
                            "id": "hi_sci_2_9",
                            "question": "एड्स (AIDS) किस वायरस के कारण होता है?",
                            "options": ["एचबीवी (HBV)", "एचआईवी (HIV)", "ईबीवी (EBV)", "एचएसवी (HSV)"],
                            "answer": "एचआईवी (HIV)"
                        },
                        {
                            "id": "hi_sci_2_10",
                            "question": "वायुमंडल की सबसे निचली परत क्या कहलाती है?",
                            "options": ["समताप मंडल", "मध्य मंडल", "आयन मंडल", "क्षोभ मंडल"],
                            "answer": "क्षोभ मंडल"
                        }
                    ]
                },
                {
                    "level": 3,
                    "questions": [
                        {
                            "id": "hi_sci_3_1",
                            "question": "किस गैस को 'लाफिंग गैस' कहा जाता है?",
                            "options": ["कार्बन डाइऑक्साइड", "नाइट्रस ऑक्साइड", "मीथेन", "ऑक्सीजन"],
                            "answer": "नाइट्रस ऑक्साइड"
                        },
                        {
                            "id": "hi_sci_3_2",
                            "question": "प्रकाश वर्ष किसकी इकाई है?",
                            "options": ["समय", "गति", "दूरी", "तीव्रता"],
                            "answer": "दूरी"
                        },
                        {
                            "id": "hi_sci_3_3",
                            "question": "मानव शरीर की सबसे बड़ी ग्रंथि कौन सी है?",
                            "options": ["थायराइड", "पिट्यूटरी", "यकृत (लीवर)", "अग्नाशय"],
                            "answer": "यकृत (लीवर)"
                        },
                        {
                            "id": "hi_sci_3_4",
                            "question": "कौन सा बल हमें पृथ्वी से बांधे रखता है?",
                            "options": ["घर्षण बल", "चुंबकीय बल", "गुरुत्वाकर्षण बल", "विद्युत चुम्बकीय बल"],
                            "answer": "गुरुत्वाकर्षण बल"
                        },
                        {
                            "id": "hi_sci_3_5",
                            "question": "रक्त का थक्का जमाने में कौन सा विटामिन सहायक है?",
                            "options": ["विटामिन A", "विटामिन C", "विटामिन K", "विटामिन E"],
                            "answer": "विटामिन K"
                        },
                        {
                            "id": "hi_sci_3_6",
                            "question": "न्यूट्रॉन की खोज किसने की थी?",
                            "options": ["जे. जे. थॉमसन", "अर्नेस्ट रदरफोर्ड", "जेम्स चैडविक", "नील्स बोर"],
                            "answer": "जेम्स चैडविक"
                        },
                        {
                            "id": "hi_sci_3_7",
                            "question": "ओजोन परत हमें किससे बचाती है?",
                            "options": ["अवरक्त विकिरण", "पराबैंगनी विकिरण", "एक्स-रे", "माइक्रोवेव"],
                            "answer": "पराबैंगनी विकिरण"
                        },
                        {
                            "id": "hi_sci_3_8",
                            "question": "किस यंत्र का उपयोग भूकंप की तीव्रता मापने के लिए किया जाता है?",
                            "options": ["अमीटर", "बैरोमीटर", "सिस्मोग्राफ", "हाइड्रोमीटर"],
                            "answer": "सिस्मोग्राफ"
                        },
                        {
                            "id": "hi_sci_3_9",
                            "question": "शुष्क बर्फ किसका ठोस रूप है?",
                            "options": ["पानी", "नाइट्रोजन", "कार्बन डाइऑक्साइड", "मीथेन"],
                            "answer": "कार्बन डाइऑक्साइड"
                        },
                        {
                            "id": "hi_sci_3_10",
                            "question": "सामान्य मानव शरीर का तापमान कितना होता है?",
                            "options": ["37°C", "98.6°F", "दोनों (a) और (b)", "इनमें से कोई नहीं"],
                            "answer": "दोनों (a) और (b)"
                        }
                    ]
                },
                {
                    "level": 4,
                    "questions": [
                        {
                            "id": "hi_sci_4_1",
                            "question": "दांतों और हड्डियों में कौन सा तत्व पाया जाता है?",
                            "options": ["लोहा", "पोटेशियम", "कैल्शियम", "सोडियम"],
                            "answer": "कैल्शियम"
                        },
                        {
                            "id": "hi_sci_4_2",
                            "question": "सबसे हल्की गैस कौन सी है?",
                            "options": ["नाइट्रोजन", "हीलियम", "हाइड्रोजन", "ऑक्सीजन"],
                            "answer": "हाइड्रोजन"
                        },
                        {
                            "id": "hi_sci_4_3",
                            "question": "मानव शरीर की सबसे छोटी हड्डी कौन सी है?",
                            "options": ["फीमर", "स्टेपीज़", "टिबिआ", "रेडियस"],
                            "answer": "स्टेपीज़"
                        },
                        {
                            "id": "hi_sci_4_4",
                            "question": "किस रंग की प्रकाश की तरंगदैर्ध्य सबसे अधिक होती है?",
                            "options": ["बैंगनी", "हरा", "पीला", "लाल"],
                            "answer": "लाल"
                        },
                        {
                            "id": "hi_sci_4_5",
                            "question": "रेडियोधर्मिता की खोज किसने की थी?",
                            "options": ["मैडम क्यूरी", "हेनरी बेकरेल", "रदरफोर्ड", "आइंस्टीन"],
                            "answer": "हेनरी बेकरेल"
                        },
                        {
                            "id": "hi_sci_4_6",
                            "question": "किस उपकरण का उपयोग समुद्री गहराई मापने के लिए किया जाता है?",
                            "options": ["सोनार", "रडार", "अमीटर", "बैरोमीटर"],
                            "answer": "सोनार"
                        },
                        {
                            "id": "hi_sci_4_7",
                            "question": "पौधों में पानी का परिवहन किसके द्वारा होता है?",
                            "options": ["फ्लोएम", "जाइलम", "पत्ती", "तना"],
                            "answer": "जाइलम"
                        },
                        {
                            "id": "hi_sci_4_8",
                            "question": "कौन सा लेंस निकट दृष्टि दोष (मायोपिया) को ठीक करने के लिए उपयोग किया जाता है?",
                            "options": ["उत्तल लेंस", "अवतल लेंस", "बेलनाकार लेंस", "द्विफोकसी लेंस"],
                            "answer": "अवतल लेंस"
                        },
                        {
                            "id": "hi_sci_4_9",
                            "question": "विद्युत धारा की इकाई क्या है?",
                            "options": ["वोल्ट", "एम्पीयर", "ओम", "वाट"],
                            "answer": "एम्पीयर"
                        },
                        {
                            "id": "hi_sci_4_10",
                            "question": "किस वैज्ञानिक ने सापेक्षता का सिद्धांत दिया?",
                            "options": ["आइज़ैक न्यूटन", "अल्बर्ट आइंस्टीन", "गैलीलियो गैलीली", "स्टीफन हॉकिंग"],
                            "answer": "अल्बर्ट आइंस्टीन"
                        }
                    ]
                },
                {
                    "level": 5,
                    "questions": [
                        {
                            "id": "hi_sci_5_1",
                            "question": "पृथ्वी के वायुमंडल में सबसे प्रचुर गैस कौन सी है?",
                            "options": ["ऑक्सीजन", "कार्बन डाइऑक्साइड", "नाइट्रोजन", "आर्गन"],
                            "answer": "नाइट्रोजन"
                        },
                        {
                            "id": "hi_sci_5_2",
                            "question": "किस ग्रह को 'लाल ग्रह' कहा जाता है?",
                            "options": ["शुक्र", "मंगल", "बृहस्पति", "शनि"],
                            "answer": "मंगल"
                        },
                        {
                            "id": "hi_sci_5_3",
                            "question": "मानव शरीर में सबसे बड़ी धमनी कौन सी है?",
                            "options": ["पल्मोनरी धमनी", "महाधमनी (एओर्टा)", "कैरोटिड धमनी", "फेमोरल धमनी"],
                            "answer": "महाधमनी (एओर्टा)"
                        },
                        {
                            "id": "hi_sci_5_4",
                            "question": "कौन सा विटामिन पानी में घुलनशील है?",
                            "options": ["विटामिन A", "विटामिन D", "विटामिन C", "विटामिन K"],
                            "answer": "विटामिन C"
                        },
                        {
                            "id": "hi_sci_5_5",
                            "question": "किस प्रक्रिया द्वारा सूर्य से पृथ्वी तक ऊष्मा आती है?",
                            "options": ["चालन", "संवहन", "विकिरण", "वाष्पीकरण"],
                            "answer": "विकिरण"
                        },
                        {
                            "id": "hi_sci_5_6",
                            "question": "मानव मस्तिष्क का कौन सा भाग सीखने और याददाश्त से संबंधित है?",
                            "options": ["सेरिबैलम", "मेडुला ऑब्लोंगेटा", "सेरिब्रम", "हाइपोथैलेमस"],
                            "answer": "सेरिब्रम"
                        },
                        {
                            "id": "hi_sci_5_7",
                            "question": "किस उपकरण का उपयोग विद्युत प्रतिरोध मापने के लिए किया जाता है?",
                            "options": ["वोल्टमीटर", "एमीटर", "ओममीटर", "गैल्वेनोमीटर"],
                            "answer": "ओममीटर"
                        },
                        {
                            "id": "hi_sci_5_8",
                            "question": "सबसे कठोर प्राकृतिक पदार्थ कौन सा है?",
                            "options": ["सोना", "हीरा", "लोहा", "ग्रेफाइट"],
                            "answer": "हीरा"
                        },
                        {
                            "id": "hi_sci_5_9",
                            "question": "रॉकेट किस सिद्धांत पर कार्य करता है?",
                            "options": ["न्यूटन का पहला नियम", "न्यूटन का दूसरा नियम", "न्यूटन का तीसरा नियम", "आर्किमिडीज का सिद्धांत"],
                            "answer": "न्यूटन का तीसरा नियम"
                        },
                        {
                            "id": "hi_sci_5_10",
                            "question": "किस ग्रंथि को 'मास्टर ग्रंथि' के रूप में जाना जाता है?",
                            "options": ["थायराइड ग्रंथि", "पीनियल ग्रंथि", "पिट्यूटरी ग्रंथि", "अधिवृक्क ग्रंथि"],
                            "answer": "पिट्यूटरी ग्रंथि"
                        }
                    ]
                },
                {
                    "level": 6,
                    "questions": [
                        {
                            "id": "hi_sci_6_1",
                            "question": "किस प्रक्रिया द्वारा ठोस सीधे गैस में बदल जाता है?",
                            "options": ["वाष्पीकरण", "संघनन", "ऊर्ध्वपातन", "गलन"],
                            "answer": "ऊर्ध्वपातन"
                        },
                        {
                            "id": "hi_sci_6_2",
                            "question": "इलेक्ट्रॉन की खोज किसने की थी?",
                            "options": ["जेम्स चैडविक", "जे. जे. थॉमसन", "अर्नेस्ट रदरफोर्ड", "नील्स बोर"],
                            "answer": "जे. जे. थॉमसन"
                        },
                        {
                            "id": "hi_sci_6_3",
                            "question": "मानव रक्त का पीएच मान लगभग कितना होता है?",
                            "options": ["6.5", "7.4", "8.0", "7.0"],
                            "answer": "7.4"
                        },
                        {
                            "id": "hi_sci_6_4",
                            "question": "सूर्य का प्रकाश पृथ्वी तक पहुँचने में कितना समय लेता है?",
                            "options": ["6 मिनट", "8 मिनट 20 सेकंड", "10 मिनट", "12 मिनट"],
                            "answer": "8 मिनट 20 सेकंड"
                        },
                        {
                            "id": "hi_sci_6_5",
                            "question": "कौन सी गैस ग्रीनहाउस प्रभाव के लिए मुख्य रूप से जिम्मेदार है?",
                            "options": ["ऑक्सीजन", "नाइट्रोजन", "कार्बन डाइऑक्साइड", "हीलियम"],
                            "answer": "कार्बन डाइऑक्साइड"
                        },
                        {
                            "id": "hi_sci_6_6",
                            "question": "मानव शरीर में सबसे बड़ी कोशिका कौन सी है?",
                            "options": ["लाल रक्त कोशिका", "श्वेत रक्त कोशिका", "तंत्रिका कोशिका", "मांसपेशी कोशिका"],
                            "answer": "तंत्रिका कोशिका"
                        },
                        {
                            "id": "hi_sci_6_7",
                            "question": "किस यंत्र का उपयोग आर्द्रता (humidity) मापने के लिए किया जाता है?",
                            "options": ["बैरोमीटर", "थर्मोमीटर", "हाइग्रोमीटर", "एमीटर"],
                            "answer": "हाइग्रोमीटर"
                        },
                        {
                            "id": "hi_sci_6_8",
                            "question": "विद्युत बल्ब का फिलामेंट किस धातु का बना होता है?",
                            "options": ["तांबा", "एल्यूमीनियम", "टंगस्टन", "लोहा"],
                            "answer": "टंगस्टन"
                        },
                        {
                            "id": "hi_sci_6_9",
                            "question": "पौधों में प्रकाश संश्लेषण कहाँ होता है?",
                            "options": ["जड़", "तना", "फूल", "पत्तियाँ"],
                            "answer": "पत्तियाँ"
                        },
                        {
                            "id": "hi_sci_6_10",
                            "question": "ब्रह्मांड के अध्ययन को क्या कहते हैं?",
                            "options": ["खगोल विज्ञान", "भौतिकी", "ब्रह्मांड विज्ञान", "भूविज्ञान"],
                            "answer": "ब्रह्मांड विज्ञान"
                        }
                    ]
                }
            ],
            "इतिहास": [
                {
                    "level": 1,
                    "questions": [
                        {
                            "id": "hi_his_1_1",
                            "question": "भारत को स्वतंत्रता कब मिली?",
                            "options": ["1942", "1947", "1950", "1962"],
                            "answer": "1947"
                        },
                        {
                            "id": "hi_his_1_2",
                            "question": "महात्मा गांधी का जन्म कब हुआ था?",
                            "options": ["1869", "1879", "1889", "1899"],
                            "answer": "1869"
                        },
                        {
                            "id": "hi_his_1_3",
                            "question": "पानीपत का पहला युद्ध कब लड़ा गया था?",
                            "options": ["1526", "1556", "1761", "1757"],
                            "answer": "1526"
                        },
                        {
                            "id": "hi_his_1_4",
                            "question": "हड़प्पा सभ्यता की खोज किसने की थी?",
                            "options": ["दयाराम साहनी", "राखालदास बनर्जी", "जॉन मार्शल", "आर.डी. बनर्जी"],
                            "answer": "दयाराम साहनी"
                        },
                        {
                            "id": "hi_his_1_5",
                            "question": "भारत में 'मुगल साम्राज्य' की स्थापना किसने की थी?",
                            "options": ["अकबर", "हुमायूँ", "बाबर", "औरंगजेब"],
                            "answer": "बाबर"
                        },
                        {
                            "id": "hi_his_1_6",
                            "question": "असहयोग आंदोलन कब शुरू हुआ था?",
                            "options": ["1919", "1920", "1922", "1930"],
                            "answer": "1920"
                        },
                        {
                            "id": "hi_his_1_7",
                            "question": "कोणार्क का सूर्य मंदिर किस राज्य में स्थित है?",
                            "options": ["तमिलनाडु", "केरल", "ओडिशा", "कर्नाटक"],
                            "answer": "ओडिशा"
                        },
                        {
                            "id": "hi_his_1_8",
                            "question": "स्वतंत्र भारत के पहले प्रधानमंत्री कौन थे?",
                            "options": ["सरदार पटेल", "जवाहरलाल नेहरू", "लाल बहादुर शास्त्री", "डॉ. राजेंद्र प्रसाद"],
                            "answer": "जवाहरलाल नेहरू"
                        },
                        {
                            "id": "hi_his_1_9",
                            "question": "किस घटना के बाद महात्मा गांधी ने असहयोग आंदोलन वापस ले लिया था?",
                            "options": ["जलियांवाला बाग हत्याकांड", "चौरी-चौरा कांड", "भारत छोड़ो आंदोलन", "दांडी मार्च"],
                            "answer": "चौरी-चौरा कांड"
                        },
                        {
                            "id": "hi_his_1_10",
                            "question": "दिल्ली सल्तनत की पहली महिला शासक कौन थी?",
                            "options": ["चाँद बीबी", "नूरजहाँ", "रज़िया सुल्तान", "जेबुन्निसा"],
                            "answer": "रज़िया सुल्तान"
                        }
                    ]
                },
                {
                    "level": 2,
                    "questions": [
                        {
                            "id": "hi_his_2_1",
                            "question": "सिंधु घाटी सभ्यता का एक महत्वपूर्ण बंदरगाह शहर कौन सा था?",
                            "options": ["हड़प्पा", "मोहनजोदड़ो", "लोथल", "कालीबंगा"],
                            "answer": "लोथल"
                        },
                        {
                            "id": "hi_his_2_2",
                            "question": "बौद्ध धर्म के संस्थापक कौन थे?",
                            "options": ["महावीर", "गुरु नानक", "गौतम बुद्ध", "आदि शंकराचार्य"],
                            "answer": "गौतम बुद्ध"
                        },
                        {
                            "id": "hi_his_2_3",
                            "question": "अशोक महान किस वंश से संबंधित थे?",
                            "options": ["गुप्त वंश", "मौर्य वंश", "चोल वंश", "पल्लव वंश"],
                            "answer": "मौर्य वंश"
                        },
                        {
                            "id": "hi_his_2_4",
                            "question": "प्लासी का युद्ध कब लड़ा गया था?",
                            "options": ["1757", "1764", "1773", "1784"],
                            "answer": "1757"
                        },
                        {
                            "id": "hi_his_2_5",
                            "question": "भारत का लौह पुरुष किसे कहा जाता है?",
                            "options": ["महात्मा गांधी", "जवाहरलाल नेहरू", "सरदार वल्लभभाई पटेल", "सुभाष चंद्र बोस"],
                            "answer": "सरदार वल्लभभाई पटेल"
                        },
                        {
                            "id": "hi_his_2_6",
                            "question": "भारतीय राष्ट्रीय कांग्रेस की स्थापना कब हुई थी?",
                            "options": ["1885", "1905", "1919", "1942"],
                            "answer": "1885"
                        },
                        {
                            "id": "hi_his_2_7",
                            "question": "वेदों की संख्या कितनी है?",
                            "options": ["2", "3", "4", "5"],
                            "answer": "4"
                        },
                        {
                            "id": "hi_his_2_8",
                            "question": "भारत आने वाले पहले यूरोपीय कौन थे?",
                            "options": ["ब्रिटिश", "डच", "पुर्तगाली", "फ्रांसीसी"],
                            "answer": "पुर्तगाली"
                        },
                        {
                            "id": "hi_his_2_9",
                            "question": "दिल्ली का लाल किला किसने बनवाया था?",
                            "options": ["अकबर", "जहाँगीर", "शाहजहाँ", "औरंगजेब"],
                            "answer": "शाहजहाँ"
                        },
                        {
                            "id": "hi_his_2_10",
                            "question": "गेटवे ऑफ इंडिया कहाँ स्थित है?",
                            "options": ["दिल्ली", "मुंबई", "चेन्नई", "कोलकाता"],
                            "answer": "मुंबई"
                        }
                    ]
                },
                {
                    "level": 3,
                    "questions": [
                        {
                            "id": "hi_his_3_1",
                            "question": "महात्मा गांधी ने 'करो या मरो' का नारा किस आंदोलन के दौरान दिया था?",
                            "options": ["असहयोग आंदोलन", "सविनय अवज्ञा आंदोलन", "भारत छोड़ो आंदोलन", "चंपारण सत्याग्रह"],
                            "answer": "भारत छोड़ो आंदोलन"
                        },
                        {
                            "id": "hi_his_3_2",
                            "question": "खजुराहो के मंदिर किस राज्य में स्थित हैं?",
                            "options": ["उत्तर प्रदेश", "मध्य प्रदेश", "राजस्थान", "बिहार"],
                            "answer": "मध्य प्रदेश"
                        },
                        {
                            "id": "hi_his_3_3",
                            "question": "किस यूरोपीय शक्ति ने भारत में सबसे पहले व्यापार केंद्र स्थापित किए?",
                            "options": ["अंग्रेज", "डच", "पुर्तगाली", "फ्रांसीसी"],
                            "answer": "पुर्तगाली"
                        },
                        {
                            "id": "hi_his_3_4",
                            "question": "चोल साम्राज्य का सबसे महत्वपूर्ण शासक कौन था?",
                            "options": ["राजराजा चोल I", "राजेंद्र चोल I", "करिकाला चोल", "परान्तक चोल I"],
                            "answer": "राजराजा चोल I"
                        },
                        {
                            "id": "hi_his_3_5",
                            "question": "भारत में सती प्रथा को समाप्त करने में किसका महत्वपूर्ण योगदान था?",
                            "options": ["ईश्वर चंद्र विद्यासागर", "राजा राम मोहन राय", "स्वामी विवेकानंद", "दयानंद सरस्वती"],
                            "answer": "राजा राम मोहन राय"
                        },
                        {
                            "id": "hi_his_3_6",
                            "question": "भारतीय संविधान कब अपनाया गया था?",
                            "options": ["15 अगस्त 1947", "26 जनवरी 1950", "26 नवंबर 1949", "1 जनवरी 1948"],
                            "answer": "26 नवंबर 1949"
                        },
                        {
                            "id": "hi_his_3_7",
                            "question": "चौरी-चौरा कांड किस वर्ष हुआ था?",
                            "options": ["1920", "1921", "1922", "1923"],
                            "answer": "1922"
                        },
                        {
                            "id": "hi_his_3_8",
                            "question": "पहला गोलमेज सम्मेलन कहाँ आयोजित किया गया था?",
                            "options": ["दिल्ली", "मुंबई", "लंदन", "कोलकाता"],
                            "answer": "लंदन"
                        },
                        {
                            "id": "hi_his_3_9",
                            "question": "सिंधु घाटी सभ्यता के लोग किस देवता की पूजा करते थे?",
                            "options": ["विष्णु", "पशुपति महादेव", "इंद्र", "सूर्य"],
                            "answer": "पशुपति महादेव"
                        },
                        {
                            "id": "hi_his_3_10",
                            "question": "किस मुगल शासक को 'जिंदा पीर' कहा जाता था?",
                            "options": ["अकबर", "शाहजहाँ", "औरंगजेब", "बाबर"],
                            "answer": "औरंगजेब"
                        }
                    ]
                },
                {
                    "level": 4,
                    "questions": [
                        {
                            "id": "hi_his_4_1",
                            "question": "अजंता और एलोरा की गुफाएँ किस राज्य में स्थित हैं?",
                            "options": ["गुजरात", "महाराष्ट्र", "कर्नाटक", "राजस्थान"],
                            "answer": "महाराष्ट्र"
                        },
                        {
                            "id": "hi_his_4_2",
                            "question": "भारत में रेलवे का जनक किसे माना जाता है?",
                            "options": ["लॉर्ड डलहौजी", "लॉर्ड रिपन", "लॉर्ड कर्जन", "लॉर्ड विलियम बेंटिंक"],
                            "answer": "लॉर्ड डलहौजी"
                        },
                        {
                            "id": "hi_his_4_3",
                            "question": "महात्मा गांधी ने अपना पहला सत्याग्रह कहाँ शुरू किया था?",
                            "options": ["दांडी", "खेड़ा", "चंपारण", "अहमदाबाद"],
                            "answer": "चंपारण"
                        },
                        {
                            "id": "hi_his_4_4",
                            "question": "किस युद्ध से भारत में ब्रिटिश साम्राज्य की नींव पड़ी?",
                            "options": ["बक्सर का युद्ध", "पानीपत का युद्ध", "प्लासी का युद्ध", "मैसूर का युद्ध"],
                            "answer": "प्लासी का युद्ध"
                        },
                        {
                            "id": "hi_his_4_5",
                            "question": "विक्रमशिला विश्वविद्यालय की स्थापना किसने की थी?",
                            "options": ["धर्मपाल", "गोपाल", "देवपाल", "महिपाल"],
                            "answer": "धर्मपाल"
                        },
                        {
                            "id": "hi_his_4_6",
                            "question": "जलियांवाला बाग हत्याकांड कब हुआ था?",
                            "options": ["1917", "1918", "1919", "1920"],
                            "answer": "1919"
                        },
                        {
                            "id": "hi_his_4_7",
                            "question": "सिंधु घाटी सभ्यता के किस स्थल से विशाल स्नानागार के अवशेष मिले हैं?",
                            "options": ["हड़प्पा", "मोहनजोदड़ो", "लोथल", "धोलावीरा"],
                            "answer": "मोहनजोदड़ो"
                        },
                        {
                            "id": "hi_his_4_8",
                            "question": "भारत का नेपोलियन किसे कहा जाता है?",
                            "options": ["चंद्रगुप्त मौर्य", "समुद्रगुप्त", "अशोक", "कनिष्क"],
                            "answer": "समुद्रगुप्त"
                        },
                        {
                            "id": "hi_his_4_9",
                            "question": "किस वेद में 'गायत्री मंत्र' का उल्लेख है?",
                            "options": ["यजुर्वेद", "सामवेद", "ऋग्वेद", "अथर्ववेद"],
                            "answer": "ऋग्वेद"
                        },
                        {
                            "id": "hi_his_4_10",
                            "question": "स्वतंत्र भारत के पहले शिक्षा मंत्री कौन थे?",
                            "options": ["मौलाना अबुल कलाम आज़ाद", "डॉ. राजेंद्र प्रसाद", "सी. राजगोपालाचारी", "डॉ. बी. आर. अम्बेडकर"],
                            "answer": "मौलाना अबुल कलाम आज़ाद"
                        }
                    ]
                },
                {
                    "level": 5,
                    "questions": [
                        {
                            "id": "hi_his_5_1",
                            "question": "किस अधिनियम को 'ब्लैक बिल' कहा गया, जिसके विरोध में जलियांवाला बाग हत्याकांड हुआ?",
                            "options": ["मोर्ले-मिंटो सुधार", "मोंटेग्यू-चेम्सफोर्ड सुधार", "रॉलेट एक्ट", "साइमन कमीशन"],
                            "answer": "रॉलेट एक्ट"
                        },
                        {
                            "id": "hi_his_5_2",
                            "question": "हर्षवर्धन के शासनकाल में कौन सा चीनी यात्री भारत आया था?",
                            "options": ["फाह्यान", "इत्सिंग", "ह्वेनसांग", "सुंग यून"],
                            "answer": "ह्वेनसांग"
                        },
                        {
                            "id": "hi_his_5_3",
                            "question": "भारत में होम रूल लीग आंदोलन किसने शुरू किया था?",
                            "options": ["महात्मा गांधी", "बाल गंगाधर तिलक और एनी बेसेंट", "सुभाष चंद्र बोस", "जवाहरलाल नेहरू"],
                            "answer": "बाल गंगाधर तिलक और एनी बेसेंट"
                        },
                        {
                            "id": "hi_his_5_4",
                            "question": "दिल्ली के किस सुल्तान ने 'बाजार नियंत्रण नीति' लागू की थी?",
                            "options": ["इल्तुतमिश", "अलाउद्दीन खिलजी", "मुहम्मद बिन तुगलक", "फिरोज शाह तुगलक"],
                            "answer": "अलाउद्दीन खिलजी"
                        },
                        {
                            "id": "hi_his_5_5",
                            "question": "भारत की आजादी के समय ब्रिटेन का प्रधानमंत्री कौन था?",
                            "options": ["विंस्टन चर्चिल", "क्लीमेंट एटली", "हेरोल्ड विल्सन", "एलिजाबेथ II"],
                            "answer": "क्लीमेंट एटली"
                        },
                        {
                            "id": "hi_his_5_6",
                            "question": "किस मौर्य शासक ने जैन धर्म अपनाया था?",
                            "options": ["अशोक", "बिंदुसार", "चंद्रगुप्त मौर्य", "दशरथ"],
                            "answer": "चंद्रगुप्त मौर्य"
                        },
                        {
                            "id": "hi_his_5_7",
                            "question": "भारत में सिविल सेवाओं का जनक किसे माना जाता है?",
                            "options": ["लॉर्ड कॉर्नवॉलिस", "लॉर्ड डलहौजी", "लॉर्ड विलियम बेंटिंक", "लॉर्ड रिपन"],
                            "answer": "लॉर्ड कॉर्नवॉलिस"
                        },
                        {
                            "id": "hi_his_5_8",
                            "question": "दिल्ली सल्तनत की राजभाषा क्या थी?",
                            "options": ["हिंदी", "संस्कृत", "फारसी", "तुर्की"],
                            "answer": "फारसी"
                        },
                        {
                            "id": "hi_his_5_9",
                            "question": "किसने 'गुलामगिरी' पुस्तक लिखी थी?",
                            "options": ["महात्मा गांधी", "ज्योतिबा फुले", "बी. आर. अम्बेडकर", "पेरियार ई. वी. रामास्वामी"],
                            "answer": "ज्योतिबा फुले"
                        },
                        {
                            "id": "hi_his_5_10",
                            "question": "भारत छोड़ो आंदोलन कब शुरू हुआ था?",
                            "options": ["1930", "1932", "1942", "1945"],
                            "answer": "1942"
                        }
                    ]
                },
                {
                    "level": 6,
                    "questions": [
                        {
                            "id": "hi_his_6_1",
                            "question": "मुगल काल में 'मनसबदारी प्रथा' किसने शुरू की थी?",
                            "options": ["बाबर", "हुमायूँ", "अकबर", "जहाँगीर"],
                            "answer": "अकबर"
                        },
                        {
                            "id": "hi_his_6_2",
                            "question": "किस अधिनियम के तहत भारत में ईस्ट इंडिया कंपनी का शासन समाप्त हुआ और ब्रिटिश क्राउन का शासन शुरू हुआ?",
                            "options": ["रेगुलेटिंग एक्ट 1773", "पिट्स इंडिया एक्ट 1784", "भारत सरकार अधिनियम 1858", "भारतीय परिषद अधिनियम 1861"],
                            "answer": "भारत सरकार अधिनियम 1858"
                        },
                        {
                            "id": "hi_his_6_3",
                            "question": "त्रि-रत्न (बुद्ध, धम्म, संघ) किस धर्म से संबंधित हैं?",
                            "options": ["जैन धर्म", "बौद्ध धर्म", "हिंदू धर्म", "सिख धर्म"],
                            "answer": "बौद्ध धर्म"
                        },
                        {
                            "id": "hi_his_6_4",
                            "question": "किस गुप्त शासक को 'कविराज' के नाम से जाना जाता था?",
                            "options": ["चंद्रगुप्त I", "समुद्रगुप्त", "चंद्रगुप्त II", "कुमारगुप्त I"],
                            "answer": "समुद्रगुप्त"
                        },
                        {
                            "id": "hi_his_6_5",
                            "question": "भारत में स्थानीय स्वशासन का जनक किसे माना जाता है?",
                            "options": ["लॉर्ड रिपन", "लॉर्ड लिटन", "लॉर्ड कर्जन", "लॉर्ड मेयो"],
                            "answer": "लॉर्ड रिपन"
                        },
                        {
                            "id": "hi_his_6_6",
                            "question": "'डिस्कवरी ऑफ इंडिया' पुस्तक किसने लिखी थी?",
                            "options": ["महात्मा गांधी", "सरदार पटेल", "जवाहरलाल नेहरू", "सुभाष चंद्र बोस"],
                            "answer": "जवाहरलाल नेहरू"
                        },
                        {
                            "id": "hi_his_6_7",
                            "question": "किस वर्ष महात्मा गांधी दक्षिण अफ्रीका से भारत लौटे थे?",
                            "options": ["1910", "1915", "1920", "1925"],
                            "answer": "1915"
                        },
                        {
                            "id": "hi_his_6_8",
                            "question": "कौन सा प्राचीन भारतीय ग्रंथ चिकित्सा से संबंधित है?",
                            "options": ["अर्थशास्त्र", "अष्टाध्यायी", "चरक संहिता", "योगसूत्र"],
                            "answer": "चरक संहिता"
                        },
                        {
                            "id": "hi_his_6_9",
                            "question": "दिल्ली के कुतुब मीनार का निर्माण किसने पूरा करवाया था?",
                            "options": ["कुतुबुद्दीन ऐबक", "इल्तुतमिश", "फिरोज शाह तुगलक", "अलाउद्दीन खिलजी"],
                            "answer": "इल्तुतमिश"
                        },
                        {
                            "id": "hi_his_6_10",
                            "question": "किसने 'वेदों की ओर लौटो' का नारा दिया था?",
                            "options": ["स्वामी विवेकानंद", "दयानंद सरस्वती", "राजा राम मोहन राय", "केशव चंद्र सेन"],
                            "answer": "दयानंद सरस्वती"
                        }
                    ]
                }
            ]
        };

        // --- Utility Functions ---
        function switchScreen(screenId) {
            const screens = [languageScreen, startScreen, quizScreen, resultsScreen];
            screens.forEach(screen => {
                if (screen.id === screenId) {
                    screen.classList.remove('exiting');
                    screen.classList.add('active');
                } else {
                    screen.classList.remove('active');
                }
            });
        }

        function showMessageBox(message) {
            const messageBox = document.createElement('div');
            messageBox.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: #2d3748;
                padding: 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.5);
                z-index: 1000;
                color: #e2e8f0;
                font-size: 1.1rem;
            `;
            messageBox.innerHTML = `
                <p>${message}</p>
                <button style="
                    margin-top: 15px;
                    padding: 8px 15px;
                    background-color: #4c51bf;
                    color: white;
                    border: none;
                    border-radius: 5px;
                    cursor: pointer;
                ">OK</button>
            `;
            document.body.appendChild(messageBox);

            messageBox.querySelector('button').addEventListener('click', () => {
                document.body.removeChild(messageBox);
            });
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- Core Quiz Logic ---
        function setLanguage(lang) {
            currentLang = lang;
            document.body.classList.remove('lang-en', 'lang-hi');
            document.body.classList.add(`lang-${lang}`);

            // Set questions based on language
            // For English, use externalQuestions (from JSON). For Hindi, use hardcoded.
            // The structure of questions (question, options, answer) is assumed to be consistent.
            selectedQuestions = (currentLang === 'en') ? externalQuestions : hindiQuestions;

            updateTextsForLanguage();
            displayCategories(); // Redraw categories based on selected language's available questions
            switchScreen('start-screen');
        }

        function updateTextsForLanguage() {
            if (currentLang === 'en') {
                startTitle.textContent = "ProQuiz Challenge";
                startSubtitle.textContent = "Test your knowledge across various domains!";
                categorySelectTitle.textContent = "Select a Category:";
                allSectionsButton.textContent = "All Sections (Mixed)";
                changeLanguageButton.textContent = "Change Language";
                resultsTitle.textContent = "Quiz Results";
                quitQuizButton.textContent = "Quit Quiz";
                nextLevelButton.textContent = "Next Level";
                retryLevelButton.textContent = "Retry Level";
                showAnswersButton.textContent = "Show Answers";
                tryDiffCatButton.textContent = "Try Different Category";
                homeButton.textContent = "Home";
            } else { // Hindi
                startTitle.textContent = "प्रोक्विज़ चैलेंज";
                startSubtitle.textContent = "विभिन्न विषयों पर अपने ज्ञान का परीक्षण करें!";
                categorySelectTitle.textContent = "एक श्रेणी चुनें:";
                allSectionsButton.textContent = "सभी अनुभाग (मिश्रित)";
                changeLanguageButton.textContent = "भाषा बदलें";
                resultsTitle.textContent = "क्विज़ परिणाम";
                quitQuizButton.textContent = "क्विज़ छोड़ें";
                nextLevelButton.textContent = "अगला स्तर";
                retryLevelButton.textContent = "स्तर पुनः प्रयास करें";
                showAnswersButton.textContent = "उत्तर दिखाएं";
                tryDiffCatButton.textContent = "अलग श्रेणी आज़माएँ";
                homeButton.textContent = "होम";
            }
        }

        function displayCategories() {
            categorySelection.innerHTML = ''; // Clear existing buttons
            // Add category buttons for categories found in selectedQuestions (either external or hindi)
            for (const category in selectedQuestions) {
                // Skip "All Sections" from dynamic category buttons if it's a special case
                if (category === "All Sections") continue;

                const button = document.createElement('button');
                button.classList.add('action-button');
                button.textContent = category;
                button.dataset.category = category;
                button.addEventListener('click', () => startGame(category));
                categorySelection.appendChild(button);
            }
        }

        // Constants for "All Sections" mode
        const ALL_SECTIONS_QUESTIONS_PER_LEVEL = 36;
        const ALL_SECTIONS_TOTAL_LEVELS = 10;
        const ALL_SECTIONS_PASSING_SCORE = 30; // Correct answers needed to pass

        function startGame(categoryName) {
            currentCategory = categoryName;
            currentLevel = 1;
            score = 0;
            correctAnswersCount = 0;
            incorrectAnswersCount = 0;
            askedQuestionGlobalIds.clear(); // Reset for a new game/category

            loadLevelQuestions();
            startQuizTimer();
            switchScreen('quiz-screen');
        }

        function loadLevelQuestions() {
            if (currentCategory === "All Sections") {
                // For "All Sections", get random questions from all categories
                currentLevelQuestions = getRandomQuestionsFromAllCategories(ALL_SECTIONS_QUESTIONS_PER_LEVEL);
                if (currentLevelQuestions.length === 0) {
                    showMessageBox("Not enough unique questions available for 'All Sections' mode. Please try again later or select a specific category.");
                    switchScreen('start-screen');
                    return;
                }
            } else {
                // For specific categories, use the level-based structure from JSON or hardcoded
                if (selectedQuestions[currentCategory] && selectedQuestions[currentCategory].length > 0) {
                    const levelData = selectedQuestions[currentCategory].find(l => l.level === currentLevel);

                    if (levelData) {
                        currentLevelQuestions = shuffleArray([...levelData.questions]); // Shuffle questions for the current level
                    } else {
                        // This means all 6 levels for the category are completed
                        endQuiz(true); // Treat as category completion
                        return; // Exit to prevent further execution
                    }
                } else {
                    showMessageBox("No questions available for this category or level.");
                    switchScreen('start-screen');
                    return; // Exit
                }
            }
            currentQuestionIndex = 0; // Start from the first question of the new level/set
            loadQuestion();
        }

        function getRandomQuestionsFromAllCategories(count) {
            let allAvailableQuestions = [];
            for (const category in externalQuestions) { // Always use externalQuestions for "All Sections"
                if (externalQuestions.hasOwnProperty(category)) {
                    externalQuestions[category].forEach(levelData => {
                        allAvailableQuestions.push(...levelData.questions);
                    });
                }
            }

            // Filter out questions already asked in the current "All Sections" session
            let poolOfNewQuestions = allAvailableQuestions.filter(q => !askedQuestionGlobalIds.has(q.id));

            // If we don't have enough *new* questions, and if there are enough total questions,
            // we can reset the 'asked' set to allow questions to be reused.
            // This prevents the quiz from stopping prematurely if the user plays many mixed levels.
            if (poolOfNewQuestions.length < count && allAvailableQuestions.length >= count) {
                console.warn("Not enough unique questions for 'All Sections' level. Reusing questions.");
                askedQuestionGlobalIds.clear(); // Clear all asked questions for "All Sections"
                poolOfNewQuestions = [...allAvailableQuestions]; // Reset the pool
            } else if (poolOfNewQuestions.length < count && allAvailableQuestions.length < count) {
                // If even the total available questions are less than required for one level, show error
                console.error("Critical: Total questions available are less than required for one 'All Sections' level.");
                return []; // Return empty array to signal failure
            }


            const selected = [];
            for (let i = 0; i < count; i++) {
                if (poolOfNewQuestions.length === 0) {
                    // This case should ideally be caught by the check above, but as a safeguard
                    console.warn("Ran out of questions while selecting for 'All Sections'.");
                    break;
                }
                const randomIndex = Math.floor(Math.random() * poolOfNewQuestions.length);
                const question = poolOfNewQuestions.splice(randomIndex, 1)[0];
                selected.push(question);
                askedQuestionGlobalIds.add(question.id); // Mark this question as asked
            }
            return selected;
        }

        function loadQuestion() {
            clearTimeout(timerId); // Clear any previous timer
            timeLeft = TIME_PER_QUESTION; // Reset timer for new question
            timerBar.style.width = '100%';
            timerBar.style.backgroundColor = '#63b3ed'; // Reset color
            timerText.classList.remove('low-time');
            timerText.textContent = timeLeft;

            if (currentQuestionIndex < currentLevelQuestions.length) {
                const questionData = currentLevelQuestions[currentQuestionIndex];
                // IMPORTANT FIX: Access question and answer directly as they are strings in JSON
                questionText.textContent = questionData.question;
                optionsContainer.innerHTML = '';

                shuffleArray(questionData.options).forEach((option, index) => {
                    const button = document.createElement('button');
                    button.classList.add('action-button', 'option');
                    button.textContent = option;
                    button.dataset.index = index; // Store original index for animation delay
                    // IMPORTANT FIX: Pass questionData.answer directly
                    button.onclick = () => checkAnswer(option, questionData.answer);
                    optionsContainer.appendChild(button);
                });

                // Update topic display based on mode
                if (currentCategory === "All Sections") {
                    currentLevelTopic.textContent = `${currentLang === 'en' ? 'Mixed Categories' : 'मिश्रित श्रेणियाँ'} - Level ${currentLevel}`;
                    questionCounter.textContent = `${currentQuestionIndex + 1} / ${ALL_SECTIONS_QUESTIONS_PER_LEVEL}`;
                } else {
                    currentLevelTopic.textContent = `${currentCategory} - Level ${currentLevel}`;
                    questionCounter.textContent = `${currentQuestionIndex + 1} / ${currentLevelQuestions.length}`;
                }
                startQuizTimer();
            } else {
                // All questions in the current level answered
                endQuiz(false); // Indicates level completion, not overall quiz end
            }
        }

        function startQuizTimer() {
            timerText.textContent = timeLeft;
            timerId = setInterval(() => {
                timeLeft--;
                timerText.textContent = timeLeft;
                timerBar.style.width = (timeLeft / TIME_PER_QUESTION) * 100 + '%';

                if (timeLeft <= 5) {
                    timerBar.style.backgroundColor = '#f56565'; // Red for low time
                    timerText.classList.add('low-time');
                } else {
                    timerBar.style.backgroundColor = '#63b3ed'; // Blue for normal time
                    timerText.classList.remove('low-time');
                }

                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    incorrectAnswersCount++;
                    // Update score display immediately for visual feedback
                    scoreDisplay.querySelector('span:first-child').textContent = correctAnswersCount;
                    scoreDisplay.querySelector('span:last-child').textContent = correctAnswersCount + incorrectAnswersCount;
                    // Automatically move to next question if time runs out
                    setTimeout(nextQuestion, 1000); // Give a small delay before next question
                }
            }, 1000);
        }

        function checkAnswer(selectedOption, correctAnswer) {
            clearInterval(timerId); // Stop the timer
            const optionsButtons = optionsContainer.querySelectorAll('.action-button.option');
            optionsButtons.forEach(button => {
                button.disabled = true; // Disable all options after selection
                if (button.textContent === correctAnswer) {
                    button.style.backgroundColor = '#48bb78'; // Green for correct
                } else if (button.textContent === selectedOption) {
                    button.style.backgroundColor = '#f56565'; // Red for incorrect selected
                }
            });

            if (selectedOption === correctAnswer) {
                score++;
                correctAnswersCount++;
            } else {
                incorrectAnswersCount++;
            }

            scoreDisplay.querySelector('span:first-child').textContent = correctAnswersCount;
            scoreDisplay.querySelector('span:last-child').textContent = correctAnswersCount + incorrectAnswersCount;

            setTimeout(nextQuestion, 1500); // Move to next question after a short delay
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function endQuiz(categoryCompleted = false) {
            clearTimeout(timerId);
            switchScreen('results-screen');

            let totalQuestionsInLevel;
            let passingScore;
            let totalLevelsForMode;

            if (currentCategory === "All Sections") {
                totalQuestionsInLevel = ALL_SECTIONS_QUESTIONS_PER_LEVEL;
                passingScore = ALL_SECTIONS_PASSING_SCORE;
                totalLevelsForMode = ALL_SECTIONS_TOTAL_LEVELS;
            } else {
                totalQuestionsInLevel = currentLevelQuestions.length;
                passingScore = 7; // Assuming 70% for 10 questions/level (7 correct)
                totalLevelsForMode = selectedQuestions[currentCategory].length; // 6 levels per category
            }


            // Update scores
            scoreDisplay.querySelector('span:first-child').textContent = correctAnswersCount;
            scoreDisplay.querySelector('span:last-child').textContent = totalQuestionsInLevel;

            const percentage = (correctAnswersCount / totalQuestionsInLevel) * 100;

            let statusMessage = "";
            let nextLevelPossible = false;
            let currentLevelTopicText = "";

            if (currentCategory === "All Sections") {
                currentLevelTopicText = `${currentLang === 'en' ? 'Mixed Categories' : 'मिश्रित श्रेणियाँ'} - Level ${currentLevel}`;
                if (correctAnswersCount >= passingScore) {
                    statusMessage = `${currentLang === 'en' ? 'Congratulations! You passed Level' : 'बधाई हो! आपने स्तर'} ${currentLevel} ${currentLang === 'en' ? 'of Mixed Categories with' : 'मिश्रित श्रेणियों के साथ'} <span class="correct">${percentage.toFixed(0)}%</span> ${currentLang === 'en' ? 'accuracy.' : 'सटीकता।'}`;
                    nextLevelPossible = true;
                } else {
                    statusMessage = `${currentLang === 'en' ? 'You completed Level' : 'आपने स्तर'} ${currentLevel} ${currentLang === 'en' ? 'of Mixed Categories with' : 'मिश्रित श्रेणियों के साथ'} <span class="wrong">${percentage.toFixed(0)}%</span> ${currentLang === 'en' ? 'accuracy. You need' : 'सटीकता। आपको चाहिए'} ${passingScore} ${currentLang === 'en' ? 'correct answers to unlock the next level.' : 'सही उत्तर अगले स्तर को अनलॉक करने के लिए।'}`;
                    nextLevelPossible = false;
                }
            } else { // Specific Category
                currentLevelTopicText = `${currentCategory} - Level ${currentLevel}`;
                if (percentage >= passingScore) {
                    statusMessage = `${currentLang === 'en' ? 'Congratulations! You passed Level' : 'बधाई हो! आपने स्तर'} ${currentLevel} ${currentLang === 'en' ? 'of' : 'का'} ${currentCategory} ${currentLang === 'en' ? 'with' : 'के साथ'} <span class="correct">${percentage.toFixed(0)}%</span> ${currentLang === 'en' ? 'accuracy.' : 'सटीकता।'}`;
                    nextLevelPossible = true;
                } else {
                    statusMessage = `${currentLang === 'en' ? 'You completed Level' : 'आपने स्तर'} ${currentLevel} ${currentLang === 'en' ? 'of' : 'का'} ${currentCategory} ${currentLang === 'en' ? 'with' : 'के साथ'} <span class="wrong">${percentage.toFixed(0)}%</span> ${currentLang === 'en' ? 'accuracy. You need to score at least' : 'सटीकता। आपको कम से कम स्कोर करने की आवश्यकता है'} ${passingScore}% ${currentLang === 'en' ? 'to unlock the next level.' : 'अगले स्तर को अनलॉक करने के लिए।'}`;
                    nextLevelPossible = false;
                }
            }

            levelCompletionStatus.innerHTML = statusMessage;
            topicLevelDisplay.textContent = currentLevelTopicText;

            // Show/Hide Next Level button
            if (nextLevelPossible && currentLevel < totalLevelsForMode) {
                nextLevelButton.style.display = 'inline-block';
            } else {
                nextLevelButton.style.display = 'none';
                if (currentLevel >= totalLevelsForMode && correctAnswersCount >= passingScore) {
                    // All levels completed for the current mode/category
                    levelCompletionStatus.innerHTML = `${currentLang === 'en' ? 'Fantastic! You have completed all levels for this mode!' : 'शानदार! आपने इस मोड के सभी स्तर पूरे कर लिए हैं!'}`;
                }
            }

            // Always show retry, show answers, try different category, home
            retryLevelButton.style.display = 'inline-block';
            showAnswersButton.style.display = 'inline-block';
            tryDiffCatButton.style.display = 'inline-block';
            homeButton.style.display = 'inline-block';

            // Show answers
            displayAnswers();
        }

        function displayAnswers() {
            answersRevealContainer.innerHTML = '';
            answersRevealContainer.innerHTML = `<h3>${currentLang === 'en' ? 'Answers for this Level:' : 'इस स्तर के उत्तर:'}</h3>`;
            currentLevelQuestions.forEach((q, index) => {
                const p = document.createElement('p');
                const qNum = index + 1;
                const questionTextSnippet = q.question.length > 50 ? q.question.substring(0, 50) + '...' : q.question;
                p.innerHTML = `<strong>Q${qNum}:</strong> ${questionTextSnippet}<br> <span style="color:#48bb78;">${currentLang === 'en' ? 'Correct Answer:' : 'सही उत्तर:'} ${q.answer}</span>`;
                answersRevealContainer.appendChild(p);
            });
        }

        // --- Event Listeners for Navigation ---
        nextLevelButton.addEventListener('click', () => {
            currentLevel++;
            score = 0; // Reset score for the new level
            correctAnswersCount = 0;
            incorrectAnswersCount = 0;
            loadLevelQuestions();
            switchScreen('quiz-screen');
        });

        retryLevelButton.addEventListener('click', () => {
            score = 0; // Reset score for retry
            correctAnswersCount = 0;
            incorrectAnswersCount = 0;
            // For "All Sections", clear asked questions for a fresh retry of the level
            if (currentCategory === "All Sections") {
                askedQuestionGlobalIds.clear(); // Ensure fresh questions for retry
            }
            loadLevelQuestions(); // Reload questions for the same level
            switchScreen('quiz-screen');
        });

        showAnswersButton.addEventListener('click', () => {
            showMessageBox(currentLang === 'en' ? "Answers are displayed below the score summary." : "उत्तर स्कोर सारांश के नीचे प्रदर्शित किए गए हैं।");
        });

        tryDiffCatButton.addEventListener('click', () => {
            clearTimeout(timerId);
            switchScreen('start-screen');
        });

        homeButton.addEventListener('click', () => {
            clearTimeout(timerId);
            currentLevel = 1; // Reset level on going home
            askedQuestionGlobalIds.clear(); // Clear on going home
            switchScreen('language-screen'); // Go back to language selection
        });

        quitQuizButton.addEventListener('click', () => {
            clearTimeout(timerId);
            currentLevel = 1; // Reset level on quitting
            askedQuestionGlobalIds.clear(); // Clear on quitting
            switchScreen('start-screen');
        });

        // --- Initialization ---
        // Fetch questions.json
        fetch('questions.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                externalQuestions = data;
                console.log("questions.json loaded successfully:", externalQuestions);
                // After loading, set initial language and display categories
                setLanguage('en'); // Set default to English after loading JSON
            })
            .catch(error => {
                console.error("Error loading questions.json:", error);
                showMessageBox(currentLang === 'en' ? "Failed to load quiz questions. Please check the 'questions.json' file and ensure it's valid JSON." : "क्विज़ प्रश्न लोड करने में विफल। कृपया 'questions.json' फ़ाइल की जाँच करें और सुनिश्चित करें कि यह वैध JSON है।");
                // Fallback or disable English quiz if JSON fails to load
                langEnButton.disabled = true;
            });


        langEnButton.addEventListener('click', () => setLanguage('en'));
        langHiButton.addEventListener('click', () => setLanguage('hi'));
        changeLanguageButton.addEventListener('click', () => {
            clearTimeout(timerId);
            switchScreen('language-screen');
        });

        // Event listener for the "All Sections" button
        allSectionsButton.addEventListener('click', () => startGame("All Sections"));

        // Initial screen setup
        switchScreen('language-screen');
        document.getElementById('lang-select-title').textContent = "Select Language / भाषा चुनें"; // Ensure this is set on load
    </script>
</body>
</html>
